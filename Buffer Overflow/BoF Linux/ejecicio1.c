#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/types.h>
#include <unistd.h>
#include <sys/syscall.h>

void echo(char *s, unsigned int l, long int imveryimportant, short metoo)
{
    unsigned char len = (unsigned char) l;
    char errmsg[] = "argument length has to be between 40 and 100 bytes!\n";
    char buff[250] = "You type: ";

    strcat(buff+11,s)

    if((len > 100) || (len < 40))
    {
        fprintf(stderr,"%s",errmsg);
        exit(1);
    }else{
        fprintf(stdout,"%s\n",buff);
    }
}   

int main(int argc,char **argv[])
{
    gid_t r_gid, e_gid;
    if(argc!=2)
    {
       fprintf(stderr,"please provide one argument to echo\n");
       return 1;
    }
    clearenv()
    setenv("PATH","/bin:/usr/bin:/usr/local/bin",1)
    setenv("IFS","\t\n",1)

    e_gid=getegid();
    r_gid=getgid();

    setregid(e_gid,r_gid);

    echo(argv[1],strlen(argv[1]),0xdeadbeef,323);

    return 0;
}