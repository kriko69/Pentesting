# BASH SCRIPTING AVANZADO

**controlar el evento ctrl + c**

```
trap ctrl_c INT

function ctrl_c(){
    echo "Esto se ejecuta al pulsar control + c"
}
sleep 5 -> se deja en espera un momento para aplicar cambios
```

buen para matar procesos al salir

**SLEEP**

dejar en pausa la consola

1.  s for seconds (the default)
2.  m for minutes.
3.  h for hours.
4.  d for days

```
sleep 5 -> 5 segundos
sleep 1.5 -> 1.5 segundos
sleep .5 -> 0.5 segundos
sleep 2m -> 2 minutosw
sleep 3h -> 3 horas
sleep 5d -> 5 dias

ejemplo:

command1 && sleep 1m && command2
```

**verificar si es un usuario root**

```
if ["$(id -u)"=="0"];
then
    //es root
else
    // no es
fi
```

**colores de texto de la terminal**

```
#Colours
greenColour="\e[0;32m\033[1m"
endColour="\033[0m\e[0m"
redColour="\e[0;31m\033[1m"
blueColour="\e[0;34m\033[1m"
yellowColour="\e[0;33m\033[1m"
purpleColour="\e[0;35m\033[1m"
turquoiseColour="\e[0;36m\033[1m"
grayColour="\e[0;37m\033[1m"

uso:

echo -e "${redColour}hola${endColourendColour}"
-e para que interprete caracteres especiales (\n \t etc)
siempre terminar con el endColour sinoo se queda toda la terminal con el color definido de inicio

```

**while optimo**

```
while getops ":a:b:c:" arg; do   (getopt es como un case dode los parametros seran -a,-b, -c pero se lo coloca con ':' en el while, siempre debe terminar en ':')

case $arg in (hacemos el case)
    a) variable = $OPTARG;; (en $OPTARG se tiene el parametro pasado con -a paraetro...)
    b) ;;
    c) function ;;
esac
done

ya debajo del done podems manipular la 'variable'


```

**DECLARE**

declaracion de variables con tipo
asi se ooptimiza memoria

```
constante (variable que solo se puede leer y no editar)

declare -r NOMBRE_CONSTANTE="valor fijo de la constante"

enteros

declare -i variable=5
si se le asigna un string deuelve 0

arrays

declare -a usuarios=([0]='juan' [1]='pepe' [2]='ana' [3]='eugenia')

```

**SUBCADENAS**

```
${string:position:length}

EJEMPLO

long="USCAGol.blah.blah.blah"
short="${long:0:2}" ; echo "${short}"
```
