# BASH SCRIPTING 3 WHILE Y FOR

## CICLOS

**sintaxis**

```
for VARIABLE in PARAM1 PARAM2 PARAM3
do
  // scope of for loop
done
```

**Ejemplos**

```
for i in 1 2 3 4 5
do
   echo "$i"
done

for i in {1..5}  -> se puede usar el comando $(seq) entre parentesis tambien
do
   echo "$i"
done

for OUTPUT in $(Linux-Or-Unix-Command-Here)
do
	command1 on $OUTPUT
	command2 on $OUTPUT
	commandN
done

for day in SUN MON TUE WED THU FRI SUN
do
   echo "$day"
done

```


**al estilo del lenguaje C**

```
for ((i=1; i<=10; i++))
do
  echo "$i"
done
```

**trabajando con archivos**

```
for fname in *
do
  ls -l $fname
done
```

**for infinito**

```
#!/bin/bash
for (( ; ; ))
do
   echo "infinite loops [ hit CTRL+C to stop]"
done

sentencia break

for file in /etc/*
do
	if [ "${file}" == "/etc/resolv.conf" ]
	then
		countNameservers=$(grep -c nameserver /etc/resolv.conf)
		echo "Total  ${countNameservers} nameservers defined in ${file}"
		break
	fi
done

sentencia continue

FILES="$@"
for f in $FILES
do
        # if .bak backup file exists, read next file
	if [ -f ${f}.bak ]
	then
		echo "Skiping $f file..."
		continue  # read next file and skip the cp command
	fi
        # we are here means no backup file exists, just use cp command to copy file
	/bin/cp $f $f.bak
done

lleyendo parametros

for i in $@
do
    echo "Script arg is $i"
done

```

**trabajando con arrays**

```
DB_AWS_ZONE=('us-east-2a' 'us-west-1a' 'eu-central-1a')
 
for zone in "${DB_AWS_ZONE[@]}"
do
  echo "Creating rds (DB) server in $zone, please wait ..."
  aws rds create-db-instance \
  --availability-zone "$zone"
  --allocated-storage 20 --db-instance-class db.m1.small \
  --db-instance-identifier test-instance \
  --engine mariadb \
  --master-username my_user_name \
  --master-user-password my_password_here
done
```

## WHILE

**sintaxis**

```
while [condition]
do
  //programme to execute
done
```

**ejemplos**

```
num=1
while [ $num -le 5 ]
do
   echo "$num"
   let num++
done

ciclo infinito

while true
do
  echo "Press CTRL+C to Exit"
done
```

**al estilo del lenguaje C**

```
num=1
while((num <= 5))
do
   echo $num
   let num++
done

```
**leyendo un archivo**

```
while read myvar
do
   echo $myvar
done < /tmp/filename.txt
```