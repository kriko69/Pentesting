# PETICIONES HTTP

Ver los campos de las peticiones

ejemplo solicitud http:

```
GET /auth/488/YourDetails.ashx?uid=129 HTTP/1.1
Accept: application/x-ms-application, image/jpeg, application/xaml+xml,
image/gif, image/pjpeg, application/x-ms-xbap, application/x-shockwave-
flash, */*
Referer: https://mdsec.net/auth/488/Home.ashx
Accept-Language: en-GB
User-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64;
Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR
3.0.30729; .NET4.0C; InfoPath.3; .NET4.0E; FDM; .NET CLR 1.1.4322)
Accept-Encoding: gzip, deflate
Host: mdsec.net
Connection: Keep-Alive
Cookie: SessionId=5B70C71F3FD4968935CDB6682E545476
```

* el verbo indica el tipo de metodo de peticion, las principales son GET, POST, DELETA, PUT.
* el url indica la fuente de origen de la peticion.
* la version de http que tiene la  solicitud normalmente entre 1.0 o 1.1.
* el referer header indica el url desde la cual la peticion fue solicitada.
* el header user-agent provee .informacion acerca del navegador o otro software cliente con la que se realizo la peticion.
* el header host especifica el hotname que aparece en el url completo. 
* el header cookie es usa para enviar informacion adicional al servidor.

ejemplo respuesta http:

```
HTTP/1.1 200 OK
Date: Tue, 19 Apr 2011 09:23:32 GMT
Server: Microsoft-IIS/6.0
X-Powered-By: ASP.NET
Set-Cookie: tracking=tI8rk7joMx44S2Uu85nSWc
X-AspNet-Version: 2.0.50727
Cache-Control: no-cache
Pragma: no-cache
Expires: Thu, 01 Jan 1970 00:00:00 GMT
Content-Type: text/html; charset=utf-8
Content-Length: 1067
<!DOCTYPE html PUBLIC “-//W3C//DTD XHTML 1.0 Transitional//EN” “http://
www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd”><html xmlns=”http://
www.w3.org/1999/xhtml” ><head><title>Your details</title>
...
```

la primera linea de cada respuesta contiene 3 campos:

* la version http.
* el estado en codigo numerico del resultado.
* el estado en texto del resultado.

otros atributos son:

* el header server indica el banner del servidor que se usa y otros cuantos datos.
* el header set-cookie emite al navegador una cookie que definimos nosotros en la solicitud.
* el header pragma indica al navegador que no almacene la respuesta en su
cache. El header Expires indica que el contenido de la respuesta expiró, por lo tanto, no debe almacenarse en caché.
* Casi todas las respuestas HTTP contienen un cuerpo de mensaje después del espacio en blanco
línea después de los encabezados. El header Content-Type indica que el cuerpo
de este mensaje contiene un documento HTML.
* el header content-length indica la longitud de la respuesta en bytes.

## URL's

Formato:

```
protocol://hostname[:port]/[path/]file[?param=value]
```

ejemplo:

```
https://mdsec.net/auth/488/YourDetails.ashx?uid=129
```

## HTTP HEADERS

* Content-Encoding: especifica qué tipo de codificación se utiliza para la
contenido incluido en el cuerpo del mensaje, como gzip, que utiliza
algunas aplicaciones para comprimir respuestas para una transmisión más rápida.
* Transfer-Encoding: especifica cualquier codificación que se realizó en el
cuerpo del mensaje para facilitar su transferencia a través de HTTP.

## URL ENCODING

las equivalencias de caracteres en la url:

* %3d ---> =
* %25 ---> %
* %20 ---> Space
* %0a ---> New line
* %00 ---> Null byte

## HTML ENCODING

* %u2215 — /
* %u00e9 — é
* %c2%a9 — ©
* %e2%89%a0 — z
* &quot; — "
* &apos; — '
* &amp; — &
* &lt; — <
* &gt; — >
* &#34; — "
* &#39; — '

(ver el codigo)

## FORMAS DE INCLIUR DATA

* Verificar input con la etiqueta 'hidden' o 'disabled', pues esots no se logran editar pero es posible interceptar la peticion y modificar su contenido.

* Es posible bypass el maxlength de un input interceptando la peticion y eliminando dicho atributo. (Control-Cache)

* Si la validacionde un formulario HTML esta en una funcion de JavaScript ubicado en los tags <script>, es posible deshabilitar (comentar) el script para pasar las validaciones.




