# MAQUINA SIZZLE

## FTP

Puerto 21 abierto

autenticarnos a ftp coon usuario anonymous

```
ftp <IP-VICTIMA>

username: anonymous
password <enter>
```

si nos autenticamos debemos ver si hay algun fichero con informacion

```
dir

ls -la
```

debemos comprobar si podemos subir ficheros, como es un servicio que almacena el contenido de una web si es posible subir archivos segun el lenguaje del servidor y la pagiina podemos cargar una reverser shell en un lenguaje determinado, apuntar desde la web a ese fichero y ver si lo interpreta

```
ftp <IP-VICTIMA>

username: anonymous
password <enter>

put archivo.ext
```

## esteganografia

oculta en los bits menos significativos de una imagen informacion
```
exiftool <imagen>

binwalk <imagen>

steghide info <imagen> (verifica si hay informacion)
steghide -xf <imagen> (extraer)

```

## practicar expresiones regulares

regex 101

[https://regex101.com/](https://regex101.com/)

\s -> selecciona cualquier espacio
\s* -> todas las coincidencias de espacio y selecciona tambien los espacios agrupados
.* ->grupo de caracteres (data)


## BUSQUEDA DE ARCHIVOS VIA SAMBA

En caso de estar abierto el puerto 445 samba abierto podemos, mewdiante bash, consultar si tenemos permisos de listar el contenido de los recursos compartidos a los que nos estamos autenticando.

Verificamos los recursos compartidos a los que tenemos accesos con un null session (en caso de tener credenciales aplicamos las credenciiales ya no la null sesion)

```
smbclient -L <IP-VICTIMA> -N 2>/dev/null | grep "disk"
```

Esto nos mostrara los recursos compartidos, ahora mediante bash a cada un de estos recursos copmpartidos vamos a intentar realizar el comando "dir" para ver si tenemos permisos de ver el contenido

```
smbclient -L <IP-VICTIMA> -N 2>/dev/null | grep "disk" | sed "s/\s*\(.*\)\s*Disk.*/\1/" | while read folder; do echo "===$(folder)==="; smbclient -L "//<IP-VICTIMA>/$(folder)" -c dir ; echo; done
```

Esto hara un bucle por cada uno de los recursos compartidos y en cada uno intentara ejecutar un "dir" para listar el contenido de ese recurso y ver si tenemos permisos o existe algo

Si encontramos alguna carpeta compartida en el que tenemos permisos podemos crearnos una montura en nuestra computadora

```
mkdir /mnt/smbmounted
cd !$

mount -t cifs "//<IP-VICTIMA>/<RECURSO COMPARTIDO>" /mnt/smbmounted -o vers=2.1
# recurso compartido es el que veficamos en el anterior punto
# como es una sesion nula pedira password y solo damos enter
# si se tiene usuario y contraseña lo colocamos con "-o username=usuario,password=contraseña"
# si da un error en windows 10 u otrro se podena la opcion "-o vers=2.1"

#verificamos que el recurso compartido se encuentra en nuestra computadora local

ls
```

Los permisos de esos archivos de la montura que creamos no son los reales (los que nos muestra el comando "ll")

usando bash podemos comprobar a que carpetas (si son muchas) tenemos permisos para crear un archivo o carpeta

```
find . -type d; while read directorio;do touch $(directorio)/test 2>/dev/null && echo "$(directorio) archivo creado" && rm $(directorio)/test; mkdir $(directorio)/test 2>/dev/null && echo "$(directorio) carpeta creado" && rmdir $(directorio)/test;echo;done
```

lo que hace este script

